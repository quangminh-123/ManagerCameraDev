{% extends "layouts/default.html" %}

{% block title %} Trang cá nhân {% endblock title %}

{% block stylesheets %}

{% endblock stylesheets %}

{% block content %}
<style>
    .form-control:disabled,
    .form-control[readonly] {
        background: transparent !important;
    }

    .avta-top {
        margin-bottom: 30px;
    }

    .avta-top img {
        cursor: pointer;
    }

    .srcoll-avata-info-right {
        overflow-Y: scroll;
        overflow-x: hidden;
        height: 390px;
        background: #202940;
        padding: 10px 10px;
        border-radius: 10px;

    }

    .srcoll-avata-info-right::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        background-color: #1a2035;
    }

    .srcoll-avata-info-right::-webkit-scrollbar {
        width: 10px;
        background-color: #1a2035;
        height: 10px;
    }

    .srcoll-avata-info-right::-webkit-scrollbar-thumb {
        border-radius: 10px;
        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);
        background-color: #c2c2c2;
    }

    .fa-phone {
        text-align: left;
        margin-left: -20px;
        margin-right: 30px;
    }

    .imageThumb {
        max-height: 80px;
        max-width: 80px;
        border: 2px solid;
        padding: 1px;
        cursor: pointer;
    }

    .pip {
        display: inline-block;
        margin-top: 15px;
        margin-right: 15px;
    }

    .remove {
        display: block;
        background: #444;
        color: white;
        text-align: center;
        cursor: pointer;
        top: -77px;
        position: relative;
        margin-bottom: 60px;
        width: 19px;
        left: 58px;
    }

    .remove:hover {
        background: white;
        color: black;
    }
</style>
<div class="page-inner">
    <h4 class="page-title">Thông tin cá nhân</h4>
    <div class="row">
        <div class="col-md-8">
            <div class="card card-with-nav">
                <div class="card-header">
                    <div class="row row-nav-line">
                        <ul class="nav nav-tabs nav-line nav-color-secondary" role="tablist">
                            <li class="nav-item"> <a class="nav-link active show" data-toggle="tab" href="#profile"
                                    role="tab" aria-selected="false">Thông tin cá nhân người dùng ( ACTIVE )</a> </li>
                            <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#loginhistorytab"
                                    role="tab" aria-selected="false">Lịch sử checkin / checkount</a> </li>
                            <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#settings" role="tab"
                                    aria-selected="false">Thay đổi mật khẩu</a> </li>
                        </ul>
                    </div>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                            <form action="" method="post" enctype="multipart/form-data">
                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="form-group form-group-default">
                                            <label>Mã nhân viên</label>
                                            <input type="Mã nhân viên" class="form-control" name="email"
                                                placeholder="Mã nhân viên" value="15110678">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group form-group-default">
                                            <label>Họ và tên</label>
                                            <input type="text" class="form-control" name="name" placeholder="Họ và tên"
                                                value="Nguyễn Quang Minh">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Tài khoản</label>
                                            <input type="text" class="form-control" name="name" placeholder="Tài khoản"
                                                value="quangminh" disabled>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Phân quyền</label>
                                            <select name="" id="" class="form-control">
                                                <option value="">Quản lý</option>
                                                <option value="">Nhân viên</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Email</label>
                                            <input type="email" class="form-control" name="email" placeholder="Name"
                                                value="quangminh28897@gmail.com">
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Ngày sinh nhật</label>
                                            <input type="text" class="form-control" id="datepicker" name="datepicker"
                                                value="03/21/1998" placeholder="Ngày sinh nhật">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Giới tính</label>
                                            <select class="form-control" id="gender">
                                                <option>Nam</option>
                                                <option>Nữ</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Số điện thoại</label>
                                            <input type="text" class="form-control" value="0345736211" name="phone"
                                                placeholder="Số điện thoại">
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="form-group form-group-default">
                                            <label>Chức vụ công ty</label>
                                            <input type="text" class="form-control" value="Lập trình viên"
                                                name="position" placeholder="Chức vụ công ty">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group form-group-default">
                                            <label>Tên công ty</label>
                                            <input type="text" class="form-control" value="MQ Solutions"
                                                name="companyname" placeholder="Tên công ty">
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group form-group-default">
                                            <label>Tên Chi nhánh</label>
                                            <input type="text" class="form-control"
                                                value="MQ ( 12 khuất duy tiến , Thanh Xuân , Hà Nội)"
                                                name="companybrach" placeholder="Tên Chi nhánh">
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-12">
                                        <div class="form-group form-group-default">
                                            <label>Giới thiệu bản thân</label>
                                            <textarea class="form-control" name="about"
                                                placeholder="Giới thiệu bản thân"
                                                rows="3">Mình là một lập trình viên ở công ty MQ solutions.</textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-12">
                                        <div class="form-group form-group-default">
                                            <label>Ảnh đại diện</label>
                                            <input type="file" id="avataName" name="avataName[]" class="form-control" multiple />
                                        </div>
                                    </div>
                                </div>
                                <div id="image_preview"></div>
                                <div class="text-right mt-3 mb-3">
                                    <button class="btn btn-success">Lưu thông tin</button>
                                    <button type="reset" class="btn btn-danger">Hủy Bỏ</button>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane" id="loginhistorytab" role="tabpanel" aria-labelledby="loginhistory-tab">
                            <div class="table-responsive">
                                <table id="add-row"
                                    class="display table table-striped table-hover table-head-bg-primary">
                                    <thead>
                                        <tr>
                                            <th>Images</th>
                                            <th>Thời gian</th>
                                            <th>Camera ID</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="profile-picture">
                                                    <div class="avatar avatar-lg">
                                                        <img src="/static/assets/img/jm_denis.jpg" alt="..."
                                                            class="avatar-img rounded-circle">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>7:40:30 26/11/2019</td>
                                            <td>23458214</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="profile-picture">
                                                    <div class="avatar avatar-lg">
                                                        <img src="/static/assets/img/jm_denis.jpg" alt="..."
                                                            class="avatar-img rounded-circle">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>17:00:30 26/11/2019</td>
                                            <td>23458214</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane" id="settings" role="tabpanel" aria-labelledby="settings-tab">
                            <form action="" method="post">
                                <div class="row md-12">
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Mật khẩu hiện tại</label>
                                            <input id="password" type="password" class="form-control" name="password"
                                                placeholder="Mật khẩu hiện tại" value="Lương Hồng Quân">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Mật khẩu mới</label>
                                            <input id="newPassword" type="password" class="form-control"
                                                name="newpassword" placeholder="Mật khẩu mới">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group-default">
                                            <label>Xác nhận mật khẩu</label>
                                            <input id="confirmPassword" type="password" class="form-control"
                                                name="confirmpassword" placeholder="Xác nhận mật khẩu">
                                        </div>
                                    </div>
                                </div>
                                <div class="text-right mt-3 mb-3">
                                    <button class="btn btn-success">Đổi mật khẩu</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-profile card-secondary">
                <div class="card-header" style="background-image: url('/static/assets/img/blogpost.jpg')">
                    <div class="profile-picture">
                        <div class="avatar avatar-xl">
                            <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img rounded-circle">
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="user-profile text-center">
                        <div class="name">Nguyễn Quang Minh ( Quản lý )</div>
                        <div class="social-media">
                            <a class="btn btn-info btn-twitter btn-sm btn-link" href="#">
                                <span class="btn-label just-icon"><i class="flaticon-twitter"></i></span>
                            </a>
                            <a class="btn btn-danger btn-sm btn-link" rel="publisher" href="#">
                                <span class="btn-label just-icon"><i class="flaticon-google-plus"></i> </span>
                            </a>
                            <a class="btn btn-primary btn-sm btn-link" rel="publisher" href="#">
                                <span class="btn-label just-icon"><i class="flaticon-facebook"></i> </span>
                            </a>
                        </div>
                        <div class="desc">Frontend Developer</div>
                        <div class="desc">MQ Solutions( 12 khuất duy tiến , Thanh Xuân , Hà Nội)</div>
                        <div class="desc"><span class="fa fa-phone"> 0345736211</span> <span class="fa fa-envelope">
                                quangminh28897@gmail.com</span></div>
                    </div>
                </div>
            </div>
            <p class="text-center">Nhấp đúp ảnh để xóa ảnh!</p>
            <div class="srcoll-avata-info-right">
                <div class="row">
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div id="alert_demo_8" class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="avta-top">
                            <div class="profile-picture">
                                <div class="avatar avatar-xl">
                                    <img src="/static/assets/img/jm_denis.jpg" alt="..." class="avatar-img">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock content %}

{% block javascripts %}

<script src="/static/assets/js/setting-demo2.js"></script>

<script>
    $(document).ready(function () {
        // Add Row
        $('#add-row').DataTable({
            "pageLength": 10,
            initComplete: function () {
                this.api().columns().every(function () {
                    var column = this;
                    var select = $(
                            '<select class="form-control"><option value=""></option></select>'
                        )
                        .appendTo($(column.footer()).empty())
                        .on('change', function () {
                            var val = $.fn.dataTable.util.escapeRegex(
                                $(this).val()
                            );

                            column
                                .search(val ? '^' + val + '$' : '', true, false)
                                .draw();
                        });

                    column.data().unique().sort().each(function (d, j) {
                        select.append('<option value="' + d + '">' + d +
                            '</option>')
                    });
                });
            }
        });

        // $('#add-row tbody').on( 'click', 'tr', function () {
        //        $(this).toggleClass('selected');
        //    } );

        //    $('#selectRowModal').click( function () {
        //        alert( $('#add-row').DataTable().rows('.selected').data().length +' row(s) selected' );
        //    } );


        var action =
            '<td> <div class="form-button-action"> <button type="button" data-toggle="tooltip" title="" class="btn btn-link btn-primary btn-lg" data-original-title="Edit Task"> <i class="fa fa-edit"></i> </button> <button type="button" data-toggle="tooltip" title="" class="btn btn-link btn-danger" data-original-title="Remove"> <i class="fa fa-times"></i> </button> </div> </td>';

        $('#addRowButton').click(function () {
            $('#add-row').dataTable().fnAddData([
                $("#addName").val(),
                $("#addPosition").val(),
                $("#addOffice").val(),
                action
            ]);
            $('#addRowModal').modal('hide');

        });
    });
</script>

<script>
    //== Class definition
    var SweetAlert2Demo = function () {
        //== Demos
        var initDemos = function () {
            $('#alert_demo_8').dblclick(function (e) {
                swal({
                    title: 'Bạn có chắc không?',
                    type: 'warning',
                    buttons: {
                        cancel: {
                            visible: true,
                            text: 'HỦY BỎ',
                            className: 'btn btn-danger'
                        },
                        confirm: {
                            text: 'ĐỒNG Ý , XÓA',
                            className: 'btn btn-success'
                        }
                    }
                }).then((willDelete) => {
                    if (willDelete) {
                        swal("Xóa thông tin thành công", {
                            icon: "success",
                            buttons: {
                                confirm: {
                                    className: 'btn btn-success'
                                }
                            }
                        });
                    } else {
                        swal("Bạn đã hủy tác vụ xóa", {
                            buttons: {
                                confirm: {
                                    className: 'btn btn-success'
                                }
                            }
                        });
                    }
                });
            })

        };

        return {
            //== Init
            init: function () {
                initDemos();
            },
        };
    }();

    //== Class Initialization
    jQuery(document).ready(function () {
        SweetAlert2Demo.init();
    });
</script>
<!-- Điều hướng tab -->
<script>
    var hash = document.location.hash;
    if (hash) {
        // $('.nav-link').removeClass('active show');
        $('.nav-link[href="' + hash + '"]').click();
    }
</script>

<script>
    $(document).ready(function () {
        if (window.File && window.FileList && window.FileReader) {
            $("#avataName").on("change", function (e) {
                var files = e.target.files,
                    filesLength = files.length;
                for (var i = 0; i < filesLength; i++) {
                    var f = files[i]
                    var fileReader = new FileReader();
                    fileReader.onload = (function (e) {
                        var file = e.target;
                        $("<span class=\"pip\">" +
                            "<img class=\"imageThumb\" src=\"" + e.target.result +
                            "\" title=\"" + file.name + "\"/>" +
                            "<br/><span class=\"remove\">x</span>" +
                            "</span>").insertAfter("#avataName");
                        $(".remove").click(function () {
                            $(this).parent(".pip").remove();
                        });
                    });
                    fileReader.readAsDataURL(f);
                }
            });
        } else {
            alert("Trình duyệt của bạn không hỗ trợ tính năng này , vui lòng thay đổi trình duyệt !")
        }
    });
</script>
{% endblock javascripts %}